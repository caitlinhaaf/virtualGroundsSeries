{"version":3,"sources":["webpack:///./src/pages/readings.js","webpack:///./src/utils/helpers.js","webpack:///./src/pages/readings.module.scss","webpack:///./src/components/resourceList/resourceList.module.scss","webpack:///./src/components/resourceList/resourceList.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["ReadingsPage","render","workshops","this","props","data","allMarkdownRemark","edges","openWorkshops","filter","node","frontmatter","privacySetting","closedWorkshops","allClosedFiles","length","readingFiles","reduce","acc","normalizedLinks","normalizeResourceList","allClosedUrls","readingLinks","allClosedLinks","sortResourcesAlphabetically","bodyClass","title","pageUrl","className","componentStyles","grid","gridSeciton","leftCol","readings","to","list","style","fontStyle","map","i","fileLinks","urlLinks","allReadings","key","resources","React","Component","resourceList","linkKey","resource","name","linkPath","arr","sort","a","b","keyA","keyB","module","exports","ResourceList","link","listItem","href","target","rel","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","Object","keys","indexOf"],"mappings":"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","file":"component---src-pages-readings-js-c8ac23ed8bb22e134365.js","sourcesContent":["import React from \"react\"\r\nimport { Link, graphql } from \"gatsby\"\r\n\r\nimport Layout from \"../components/layout/layout\"\r\nimport SEO from \"../components/seo\"\r\nimport ResourceList from \"../components/resourceList/resourceList\"\r\nimport {normalizeResourceList,sortResourcesAlphabetically} from \"../utils/helpers\"\r\n\r\nimport componentStyles from \"./readings.module.scss\"\r\n\r\nclass ReadingsPage extends React.Component {\r\n\r\n  render() {\r\n    const {data} = this.props;\r\n    const workshops = data.allMarkdownRemark.edges\r\n    const openWorkshops = workshops.filter(({node}) => (node.frontmatter.privacySetting === \"open\"))\r\n    const closedWorkshops = workshops.filter(({node}) => (node.frontmatter.privacySetting === \"closed\"))\r\n\r\n    const allClosedFiles = ( closedWorkshops.length >=1 ) ? (\r\n      closedWorkshops\r\n        .filter(({node}) => (node.frontmatter.readingFiles))\r\n        .reduce((acc, {node}) => {\r\n          const normalizedLinks = normalizeResourceList(node.frontmatter.readingFiles, \"file\");\r\n          return [...normalizedLinks, ...acc]\r\n        }, [])\r\n    ):([])\r\n    const allClosedUrls = ( closedWorkshops.length >=1 ) ? (\r\n      closedWorkshops\r\n        .filter(({node}) => (node.frontmatter.readingLinks))\r\n        .reduce((acc, {node}) => {\r\n          const normalizedLinks = normalizeResourceList(node.frontmatter.readingLinks, \"url\");\r\n          return [...normalizedLinks, ...acc]\r\n        }, [])\r\n    ):([])\r\n    const allClosedLinks = sortResourcesAlphabetically([...allClosedFiles, ...allClosedUrls])\r\n\r\n    return(\r\n      <Layout bodyClass=\"greenBody\">\r\n        <SEO title=\"Readings\" pageUrl=\"/readings\"/>\r\n\r\n        <div>\r\n            <section className={componentStyles.grid}>\r\n\r\n                <div \r\n                    className={`${componentStyles.gridSeciton} ${componentStyles.leftCol} ${componentStyles.readings}`}\r\n                >\r\n                    <Link to=\"/classContent\">\r\n                        <h2>READI<br/>NGS</h2>\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className={`${componentStyles.list} ${componentStyles.gridSeciton}`}>\r\n                    { (openWorkshops.length === 0 && allClosedLinks.length === 0) &&\r\n                      <p style={{fontStyle: `italic`}}>No workshop readings have been posted yet.</p>\r\n                    }\r\n                  \r\n                    { openWorkshops.length >= 1 &&\r\n                        openWorkshops.map(({node}, i) => {\r\n                            const fileLinks = node.frontmatter.readingFiles ? (\r\n                              normalizeResourceList(node.frontmatter.readingFiles, \"file\")\r\n                            ) : ([])\r\n                            const urlLinks = node.frontmatter.readingLinks ? (\r\n                              normalizeResourceList(node.frontmatter.readingLinks, \"url\")\r\n                            ) : ([])\r\n                            const allReadings = [...fileLinks, ...urlLinks] \r\n\r\n                            if(allReadings.length >=1){\r\n                              return(\r\n                                <div key={i}>\r\n                                    <h4>{node.frontmatter.title}</h4>\r\n                                    <ResourceList resources={normalizeResourceList(allReadings, \"linkPath\")} />\r\n                                </div>\r\n                                )\r\n                            }else return null\r\n                        })     \r\n\r\n                    }\r\n\r\n                    {allClosedLinks.length >= 1 &&\r\n                      <div>\r\n                        <h4>Extra Readings</h4>\r\n                        <ResourceList resources={allClosedLinks} />\r\n                      </div>\r\n                    }\r\n                </div>\r\n\r\n            </section>\r\n          </div>\r\n        \r\n      </Layout>\r\n    )\r\n  }\r\n  \r\n}\r\n\r\nexport default ReadingsPage\r\n\r\n\r\nexport const pageQuery = graphql`\r\n  query {\r\n    allMarkdownRemark(\r\n      filter: {frontmatter: {placeholder: {eq: false}}},\r\n      sort: { fields: [frontmatter___date], \r\n      order: ASC }) \r\n    {\r\n      edges {\r\n        node {\r\n          excerpt\r\n          fields {\r\n            slug\r\n          }\r\n          frontmatter {\r\n            privacySetting\r\n            title\r\n            readingFiles{\r\n                name\r\n                file\r\n            }\r\n            readingLinks{\r\n              name\r\n              url\r\n          }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`","// Used to normalize the namespaces for different types of resources\r\n// Params: arr (of objs), string (resource type: url or file)\r\n// Returns: arr (of objs)\r\nexport const normalizeResourceList = (resourceList, linkKey) => {\r\n  return resourceList.map(resource => (\r\n      {\r\n        name: resource.name,\r\n        linkPath: resource[linkKey]\r\n      }\r\n  ))\r\n}\r\n\r\nexport const sortResourcesAlphabetically = (arr) => (\r\n  arr.sort((a, b) => {\r\n    let keyA = a.name,\r\n        keyB = b.name;\r\n    if(keyA < keyB) return -1;\r\n    if(keyA > keyB) return 1;\r\n    return 0;\r\n  })\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"readings-module--grid--2iw0Z\",\"gridSeciton\":\"readings-module--gridSeciton--3NiM2\",\"leftCol\":\"readings-module--leftCol--1uegW\",\"readings\":\"readings-module--readings--2Nb2m\",\"list\":\"readings-module--list--1w2il\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"resourceList-module--list--3xW2h\",\"listItem\":\"resourceList-module--listItem--2QVvQ\"};","import React from \"react\"\r\n\r\nimport componentStyles from \"./resourceList.module.scss\" \r\n\r\nconst ResourceList = ({resources, ...props}) => {\r\n\r\n  return(\r\n    <ul className={componentStyles.list}>\r\n        {\r\n            resources.map((link, i) => (\r\n                <li key={i} className={componentStyles.listItem}>\r\n                    <a href={link.linkPath} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    {link.name}\r\n                    </a>\r\n                </li>\r\n            ))\r\n        }\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default ResourceList\r\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"sourceRoot":""}