{"version":3,"sources":["webpack:///./src/pages/readings.js","webpack:///./src/utils/helpers.js","webpack:///./src/components/resourceList/resourceList.js"],"names":["ReadingsPage","render","workshops","this","props","data","allMarkdownRemark","edges","openWorkshops","filter","node","frontmatter","privacySetting","closedWorkshops","allClosedFiles","length","readingFiles","reduce","acc","normalizedLinks","normalizeResourceList","allClosedUrls","readingLinks","allClosedLinks","bodyClass","title","pageUrl","className","componentStyles","grid","gridSeciton","leftCol","readings","to","list","style","fontStyle","map","i","fileLinks","urlLinks","allReadings","key","marginBottom","resources","React","Component","pageQuery","resourceList","linkKey","resource","name","linkPath","sort","a","b","keyA","keyB","ResourceList","listStyle","link","href","target","rel"],"mappings":"imBAUMA,E,gLAENC,OAAA,WAAU,IAGFC,EADSC,KAAKC,MAAbC,KACgBC,kBAAkBC,MACnCC,EAAgBN,EAAUO,QAAO,kBAAiD,SAAjD,EAAEC,KAAgBC,YAAYC,kBAC/DC,EAAkBX,EAAUO,QAAO,kBAAiD,WAAjD,EAAEC,KAAgBC,YAAYC,kBAEjEE,EAAmBD,EAAgBE,QAAS,EAChDF,EACGJ,QAAO,qBAAEC,KAAgBC,YAAYK,gBACrCC,QAAO,SAACC,EAAD,GAAkB,IAAXR,EAAU,EAAVA,KACPS,EAAkBC,YAAsBV,EAAKC,YAAYK,aAAc,QAC7E,MAAM,GAAN,SAAWG,GAAX,EAA+BD,MAC9B,IACJ,GACGG,EAAkBR,EAAgBE,QAAS,EAC/CF,EACGJ,QAAO,qBAAEC,KAAgBC,YAAYW,gBACrCL,QAAO,SAACC,EAAD,GAAkB,IAAXR,EAAU,EAAVA,KACPS,EAAkBC,YAAsBV,EAAKC,YAAYW,aAAc,OAC7E,MAAM,GAAN,SAAWH,GAAX,EAA+BD,MAC9B,IACJ,GACGK,EAAiBH,YAAsB,GAAD,SAAKN,GAAL,EAAwBO,IAAgB,YAEpF,OACE,kBAAC,IAAD,CAAQG,UAAU,aAChB,kBAAC,IAAD,CAAKC,MAAM,WAAWC,QAAQ,cAE9B,6BACM,6BAASC,UAAWC,IAAgBC,MAEhC,yBACIF,UAAcC,IAAgBE,YAArB,IAAoCF,IAAgBG,QAApD,IAA+DH,IAAgBI,UAExF,kBAAC,IAAD,CAAMC,GAAG,iBACL,oCAAS,6BAAT,SAIR,yBAAKN,UAAcC,IAAgBM,KAArB,IAA6BN,IAAgBE,aAC3B,IAAzBtB,EAAcO,QAA0C,IAA1BQ,EAAeR,QAC9C,uBAAGoB,MAAO,CAACC,UAAU,WAArB,8CAGA5B,EAAcO,QAAU,GACtBP,EAAc6B,KAAI,WAASC,GAAO,IAAd5B,EAAa,EAAbA,KACV6B,EAAY7B,EAAKC,YAAYK,aACjCI,YAAsBV,EAAKC,YAAYK,aAAc,QAClD,GACCwB,EAAW9B,EAAKC,YAAYW,aAChCF,YAAsBV,EAAKC,YAAYW,aAAc,OAClD,GACCmB,EAAW,YAAOF,GAAP,EAAqBC,IAEtC,OACA,yBAAKE,IAAKJ,GACN,wBAAIH,MAAO,CAACQ,aAAa,SAAWjC,EAAKC,YAAYc,OACrD,kBAAC,IAAD,CAAcmB,UAAWxB,YAAsBqB,EAAa,kBAMvElB,EAAeR,QAAU,GACxB,6BACE,wBAAIoB,MAAO,CAACQ,aAAa,SAAzB,kBACA,kBAAC,IAAD,CAAcC,UAAWrB,U,GArEtBsB,IAAMC,WAmFlB9C,YAGR,IAAM+C,EAAS,a,oFChGT3B,EAAwB,SAAC4B,EAAcC,GAChD,OAAOD,EAAaX,KAAI,SAAAa,GAAQ,MAC5B,CACEC,KAAMD,EAASC,KACfC,SAAUF,EAASD,OAGxBI,MAAK,SAACC,EAAGC,GACR,IAAIC,EAAOF,EAAEH,KACTM,EAAOF,EAAEJ,KACb,OAAGK,EAAOC,GAAc,EACrBD,EAAOC,EAAa,EAChB,O,kFCSEC,IAjBM,SAAC,GAA2B,IAA1Bd,EAAyB,EAAzBA,W,2HAAyB,kBAE9C,OACE,wBAAIT,MAAO,CAACwB,UAAW,OAAQhB,aAAa,MAEpCC,EAAUP,KAAI,SAACuB,EAAMtB,GAAP,OACV,wBAAII,IAAKJ,GACL,uBAAGuB,KAAMD,EAAKR,SAAUU,OAAO,SAASC,IAAI,uBAC3CH,EAAKT","file":"component---src-pages-readings-js-a10e6edaa3f6457f8c6a.js","sourcesContent":["import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout/layout\"\nimport SEO from \"../components/seo\"\nimport ResourceList from \"../components/resourceList/resourceList\"\nimport {normalizeResourceList} from \"../utils/helpers\"\n\nimport componentStyles from \"./readings.module.scss\"\n\nclass ReadingsPage extends React.Component {\n\nrender() {\n\n  const {data} = this.props;\n  const workshops = data.allMarkdownRemark.edges\n  const openWorkshops = workshops.filter(({node}) => (node.frontmatter.privacySetting === \"open\"))\n  const closedWorkshops = workshops.filter(({node}) => (node.frontmatter.privacySetting === \"closed\"))\n\n  const allClosedFiles = ( closedWorkshops.length >=1 ) ? (\n    closedWorkshops\n      .filter(({node}) => (node.frontmatter.readingFiles))\n      .reduce((acc, {node}) => {\n        const normalizedLinks = normalizeResourceList(node.frontmatter.readingFiles, \"file\");\n        return [...normalizedLinks, ...acc]\n      }, [])\n  ):([])\n  const allClosedUrls = ( closedWorkshops.length >=1 ) ? (\n    closedWorkshops\n      .filter(({node}) => (node.frontmatter.readingLinks))\n      .reduce((acc, {node}) => {\n        const normalizedLinks = normalizeResourceList(node.frontmatter.readingLinks, \"url\");\n        return [...normalizedLinks, ...acc]\n      }, [])\n  ):([])\n  const allClosedLinks = normalizeResourceList([...allClosedFiles, ...allClosedUrls], \"linkPath\")\n\n  return(\n    <Layout bodyClass=\"greenBody\">\n      <SEO title=\"Readings\" pageUrl=\"/readings\"/>\n\n      <div>\n            <section className={componentStyles.grid}>\n\n                <div \n                    className={`${componentStyles.gridSeciton} ${componentStyles.leftCol} ${componentStyles.readings}`}\n                >\n                    <Link to=\"/classContent\">\n                        <h2>READI<br/>NGS</h2>\n                    </Link>\n                </div>\n\n                <div className={`${componentStyles.list} ${componentStyles.gridSeciton}`}>\n                    { (openWorkshops.length === 0 && allClosedLinks.length === 0) &&\n                      <p style={{fontStyle: `italic`}}>No workshop readings have been posted yet.</p>\n                    }\n                  \n                    { openWorkshops.length >= 1 &&\n                        openWorkshops.map(({node}, i) => {\n                            const fileLinks = node.frontmatter.readingFiles ? (\n                              normalizeResourceList(node.frontmatter.readingFiles, \"file\")\n                            ) : ([])\n                            const urlLinks = node.frontmatter.readingLinks ? (\n                              normalizeResourceList(node.frontmatter.readingLinks, \"url\")\n                            ) : ([])\n                            const allReadings = [...fileLinks, ...urlLinks] \n\n                            return(\n                            <div key={i}>\n                                <h4 style={{marginBottom: `.5em`}}>{node.frontmatter.title}</h4>\n                                <ResourceList resources={normalizeResourceList(allReadings, \"linkPath\")} />\n                            </div>\n                            )\n                        })     \n                    }\n\n                    {allClosedLinks.length >= 1 &&\n                      <div>\n                        <h4 style={{marginBottom: `.5em`}}>Extra Readings</h4>\n                        <ResourceList resources={allClosedLinks} />\n                      </div>\n                    }\n                </div>\n\n            </section>\n        </div>\n      \n    </Layout>\n  )\n}\n  \n}\n\nexport default ReadingsPage\n\n\nexport const pageQuery = graphql`\n  query {\n    allMarkdownRemark(\n      filter: {frontmatter: {placeholder: {eq: false}}},\n      sort: { fields: [frontmatter___date], \n      order: ASC }) \n    {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            privacySetting\n            title\n            readingFiles{\n                name\n                file\n            }\n            readingLinks{\n              name\n              url\n          }\n          }\n        }\n      }\n    }\n  }\n`","export const normalizeResourceList = (resourceList, linkKey) => {\n    return resourceList.map(resource => (\n        {\n          name: resource.name,\n          linkPath: resource[linkKey]\n        }\n    ))\n    .sort((a, b) => {\n      let keyA = a.name,\n          keyB = b.name;\n      if(keyA < keyB) return -1;\n      if(keyA > keyB) return 1;\n      return 0;\n    })\n}","import React from \"react\"\n\n// import componentStyles from \"./nav.module.scss\" \n\nconst ResourceList = ({resources, ...props}) => {\n\n  return(\n    <ul style={{listStyle: \"none\", marginBottom: `0`}}>\n        {\n            resources.map((link, i) => (\n                <li key={i}>\n                    <a href={link.linkPath} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {link.name}\n                    </a>\n                </li>\n            ))\n        }\n    </ul>\n  )\n}\n\nexport default ResourceList\n"],"sourceRoot":""}